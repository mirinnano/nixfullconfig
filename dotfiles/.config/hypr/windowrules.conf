# Hyprland Window Rules - 0.53+ Syntax

# General rule - suppress maximize events
windowrule = match:class .*, suppress_event maximize

# ===============================
# Gaming - Workspace 7
# ===============================
windowrule = match:class ^(steam)$, workspace 7
windowrule = match:class ^(lutris)$, workspace 7
windowrule = match:title ^(Steam)$, workspace 7
windowrule = match:title ^(Steam Settings)$, float on
windowrule = match:title ^(Steam Settings)$, size 800 600

# Game windows - Fullscreen optimization
windowrule {
    name = steam-games
    match:class = ^(steam_app_.*)$
    fullscreen = on
    immediate = on
}

# ===============================
# Communication - Workspace 4
# ===============================
windowrule = match:class ^(vesktop)$, workspace 4
windowrule = match:class ^(discord)$, workspace 4
windowrule = match:title ^(Discord)$, workspace 4
windowrule = match:class ^(telegram)$, workspace 4
windowrule = match:class ^(Element)$, workspace 4

# ===============================
# Browser - Workspace 2
# ===============================
windowrule = match:class ^(zen-beta)$, workspace 2
windowrule = match:class ^(firefox)$, workspace 2
windowrule = match:class ^(brave-browser)$, workspace 2
windowrule = match:class ^(google-chrome)$, workspace 2

# Picture-in-Picture
windowrule = match:title ^(Picture-in-Picture)$, float on
windowrule = match:title ^(Picture-in-Picture)$, pin on
windowrule = match:title ^(Picture-in-Picture)$, size 640 360
windowrule = match:title ^(Picture-in-Picture)$, move 100%-660 100%-400

# ===============================
# Development - Workspace 3
# ===============================
windowrule = match:class ^(code)$, workspace 3
windowrule = match:class ^(jetbrains-.*)$, workspace 3
windowrule = match:class ^(zed)$, workspace 3

# ===============================
# Floating Windows
# ===============================
# File managers
windowrule = match:class ^(thunar)$, float on
windowrule = match:class ^(thunar)$, size 1200 800
windowrule = match:class ^(thunar)$, center on
windowrule = match:class ^(dolphin)$, float on
windowrule = match:class ^(dolphin)$, size 1200 800
windowrule = match:class ^(dolphin)$, center on

# System utilities
windowrule = match:class ^(pavucontrol)$, float on
windowrule = match:class ^(pavucontrol)$, size 800 600
windowrule = match:class ^(pavucontrol)$, center on
windowrule = match:class ^(blueman-manager)$, float on
windowrule = match:class ^(nm-connection-editor)$, float on
windowrule = match:class ^(lxqt-policykit-agent)$, float on

# Settings and preferences
windowrule = match:title ^(.*[Ss]ettings)$, float on
windowrule = match:title ^(.*[Ss]ettings)$, center on
windowrule = match:title ^(.*[Pp]references)$, float on
windowrule = match:title ^(.*[Pp]references)$, center on
windowrule = match:title ^(.*[Cc]onfiguration)$, float on

# File picker dialogs
windowrule = match:title ^(Open File)$, float on
windowrule = match:title ^(Open File)$, size 1000 700
windowrule = match:title ^(Open File)$, center on
windowrule = match:title ^(Save File)$, float on
windowrule = match:title ^(Save File)$, size 1000 700
windowrule = match:title ^(Save File)$, center on
windowrule = match:title ^(Select a File)$, float on

# ===============================
# Opacity Rules
# ===============================
windowrule = match:class ^(alacritty)$, opacity 0.95 0.85
windowrule = match:class ^(ghostty)$, opacity 0.95 0.85
windowrule = match:class ^(kitty)$, opacity 0.95 0.85
windowrule = match:class ^(zen-beta)$, opacity 1.0
windowrule = match:class ^(firefox)$, opacity 1.0
windowrule = match:class ^(vesktop)$, opacity 1.0

# ===============================
# Special Rules
# ===============================
# Image viewers
windowrule = match:class ^(imv)$, float on
windowrule = match:class ^(imv)$, size 1200 900
windowrule = match:class ^(imv)$, center on

# Video players
windowrule = match:class ^(mpv)$, float on
windowrule = match:class ^(mpv)$, size 1280 720
windowrule = match:class ^(mpv)$, center on

# Screenshot tool
windowrule = match:class ^(swappy)$, float on
windowrule = match:class ^(swappy)$, fullscreen on

# Virtual machines
windowrule = match:class ^(virt-manager)$, workspace 8
windowrule = match:title ^(.*QEMU/KVM)$, fullscreen on

# ===============================
# NOTE: border and shadow options removed in 0.53
# Use decoration section in hyprland.conf instead
# ===============================

# ===============================
# Tearing (for gaming - reduce input lag)
# ===============================
windowrule = match:class ^(steam_app_.*)$, immediate on
windowrule = match:title ^(.*Counter-Strike.*)$, immediate on
windowrule = match:title ^(.*Dota 2.*)$, immediate on

# CS2 specific optimizations
windowrule {
    match:title = ^(.*Counter-Strike 2.*)$
    match:class = ^(steam_app_.*)$
    immediate = 1
    animation = none
    xray = 1  # Force immediate rendering
}

# ===============================
# NOTE: idleinhibit removed in 0.53
# Use hypridle configuration instead
# ===============================
